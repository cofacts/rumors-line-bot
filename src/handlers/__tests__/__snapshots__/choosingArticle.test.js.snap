// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`should ask users if they want to submit article when user say not found 1`] = `
Object {
  "data": Object {
    "foundArticleIds": Array [
      "AV8d2-YtyCdS-nWhuhdi",
    ],
    "searchedText": "é€™ä¸€ç¯‡æ–‡ç« ç¢ºå¯¦æ˜¯ä¸€å€‹è½‰å‚³æ–‡ç« ï¼Œä»–å¤ é•·ï¼Œçœ‹èµ·ä¾†å¾ˆè½‰å‚³ï¼Œä½†æ˜¯ä½¿ç”¨è€…è¦ºå¾—è³‡æ–™åº«è£¡æ²’æœ‰ã€‚",
    "selectedArticleId": undefined,
  },
  "event": Object {
    "input": "0",
    "message": Object {
      "id": "7045918737413",
      "text": "0",
      "type": "text",
    },
    "timestamp": 1511633232479,
    "type": "message",
  },
  "isSkipUser": false,
  "issuedAt": 1511633232970,
  "replies": Array [
    Object {
      "altText": "ã€é€å‡ºè¨Šæ¯åˆ°å…¬é–‹è³‡æ–™åº«ï¼Ÿã€‘
è‹¥é€™æ˜¯ã€Œè½‰å‚³è¨Šæ¯ã€ï¼Œè€Œä¸”æ‚¨è¦ºå¾—é€™å¾ˆå¯èƒ½æ˜¯ä¸€å‰‡ã€Œè¬ è¨€ã€ï¼Œè«‹å°‡é€™å‰‡è¨Šæ¯é€é€²å…¬é–‹è³‡æ–™åº«å»ºæª”ï¼Œè®“å¥½å¿ƒäººæŸ¥è­‰èˆ‡å›è¦†ã€‚

é›–ç„¶æ‚¨ä¸æœƒç«‹åˆ»æ”¶åˆ°æŸ¥è­‰çµæœï¼Œä½†å¯ä»¥å¹«åŠ©åˆ°æœªä¾†åŒæ¨£æ”¶åˆ°é€™ä»½è¨Šæ¯çš„äººã€‚

è«‹æŒ‰å·¦ä¸‹è§’ã€ŒâŒ¨ï¸ã€éˆ•ï¼ŒæŠŠã€Œç‚ºä½•æ‚¨æœƒè¦ºå¾—é€™æ˜¯ä¸€å‰‡è¬ è¨€ã€çš„ç†ç”±å‚³çµ¦æˆ‘å€‘ï¼Œå¹«åŠ©é—¢è¬ ç·¨è¼¯é‡æ¸…æ‚¨æœ‰ç–‘æƒ‘ä¹‹è™•ã€‚
è‹¥æƒ³æ”¾æ£„ï¼Œè«‹è¼¸å…¥ã€Œnã€ã€‚",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "size": "xxs",
              "text": "è‹¥é€™æ˜¯ã€Œè½‰å‚³è¨Šæ¯ã€ï¼Œè€Œä¸”æ‚¨è¦ºå¾—é€™å¾ˆå¯èƒ½æ˜¯ä¸€å‰‡ã€Œè¬ è¨€ã€ï¼Œè«‹å°‡é€™å‰‡è¨Šæ¯é€é€²å…¬é–‹è³‡æ–™åº«å»ºæª”ï¼Œè®“å¥½å¿ƒäººæŸ¥è­‰èˆ‡å›è¦†ã€‚",
              "type": "text",
              "wrap": true,
            },
            Object {
              "size": "xxs",
              "text": "é›–ç„¶æ‚¨ä¸æœƒç«‹åˆ»æ”¶åˆ°æŸ¥è­‰çµæœï¼Œä½†å¯ä»¥å¹«åŠ©åˆ°æœªä¾†åŒæ¨£æ”¶åˆ°é€™ä»½è¨Šæ¯çš„äººã€‚",
              "type": "text",
              "wrap": true,
            },
            Object {
              "color": "#990000",
              "size": "md",
              "text": "è«‹æ‰“å­—å‘Šè¨´æˆ‘å€‘ï¼š",
              "type": "text",
              "weight": "bold",
              "wrap": true,
            },
            Object {
              "color": "#ff0000",
              "size": "xxl",
              "text": "ç‚ºä½•æ‚¨æœƒè¦ºå¾—é€™æ˜¯ä¸€å‰‡è¬ è¨€ï¼Ÿ",
              "type": "text",
              "weight": "bold",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "spacing": "md",
          "type": "box",
        },
        "footer": Object {
          "contents": Array [
            Object {
              "action": Object {
                "data": "{\\"input\\":\\"n\\",\\"issuedAt\\":1511633232970}",
                "label": "æ”¾æ£„é€å‡º",
                "type": "postback",
              },
              "type": "button",
            },
            Object {
              "action": Object {
                "label": "âŒ¨ï¸ å‚³ç†ç”±çµ¦æˆ‘å€‘",
                "type": "uri",
                "uri": "line://oaMessage/@cofacts/?%E5%9B%A0%E7%82%BA%E2%8B%AF%E2%8B%AF",
              },
              "style": "primary",
              "type": "button",
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "header": Object {
          "contents": Array [
            Object {
              "color": "#009900",
              "size": "sm",
              "text": "é€å‡ºè¨Šæ¯åˆ°å…¬é–‹è³‡æ–™åº«ï¼Ÿ",
              "type": "text",
              "weight": "bold",
            },
          ],
          "layout": "horizontal",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
  ],
  "state": "ASKING_ARTICLE_SUBMISSION_REASON",
  "userId": "Uc76d8ae9ccd1ada4f06c4e1515d46466",
}
`;

exports[`should block user from submitting articles that is too short 1`] = `
Object {
  "data": Object {
    "foundArticleIds": Array [
      "AV8d2-YtyCdS-nWhuhdi",
    ],
    "searchedText": "é€™çœŸçš„å‡çš„ï¼Ÿï¼Ÿï¼ï¼ï¼ï¼Ÿï¼Ÿï¼",
    "selectedArticleId": undefined,
  },
  "event": Object {
    "input": "0",
    "message": Object {
      "id": "7045918737413",
      "text": "0",
      "type": "text",
    },
    "timestamp": 1511633232479,
    "type": "message",
  },
  "isSkipUser": false,
  "issuedAt": 1511633232970,
  "replies": Array [
    Object {
      "text": "å‰›æ‰æ‚¨å‚³çš„è¨Šæ¯è³‡è¨Šé‡å¤ªå°‘ï¼Œç·¨è¼¯ç„¡å¾æŸ¥è­‰ã€‚
æŸ¥è­‰ç¯„åœè«‹åƒè€ƒğŸ“–ä½¿ç”¨æ‰‹å†Š http://bit.ly/cofacts-line-users",
      "type": "text",
    },
  ],
  "state": "__INIT__",
  "userId": "Uc76d8ae9ccd1ada4f06c4e1515d46466",
}
`;

exports[`should select article and have OPINIONATED and NOT_ARTICLE replies 1`] = `
Object {
  "data": Object {
    "foundArticleIds": Array [
      "AV8d2-YtyCdS-nWhuhdi",
    ],
    "foundReplyIds": Array [
      "AV8fXikZyCdS-nWhuhfN",
      "AV--O3nfyCdS-nWhujMD",
      "AV--LRZYyCdS-nWhujL9",
      "AV8jkRlByCdS-nWhuhiY",
    ],
    "searchedText": "è€æ¦®æ°‘ä¹æˆå­˜æ¬¾å…¨éƒ¨æçµ¦æ…ˆæ¿Ÿï¼Œå¦‚ä»Šçª®äº†å»å¾—ä¸åˆ°æ…ˆæ¿Ÿé†«é™¢ç¤¾å·¥çš„å¹«å¿™ï¼Œç«Ÿç¿»è‡‰ä¸èªäºº",
    "selectedArticleId": "AV8d2-YtyCdS-nWhuhdi",
    "selectedArticleText": "è€æ¦®æ°‘ä¹æˆå­˜æ¬¾å…¨éƒ¨æçµ¦æ…ˆæ¿Ÿï¼Œå¦‚ä»Šçª®äº†å»å¾—ä¸åˆ°æ…ˆæ¿Ÿé†«é™¢ç¤¾å·¥çš„å¹«å¿™ï¼Œç«Ÿç¿»è‡‰ä¸èªäºº",
  },
  "event": Object {
    "input": "1",
    "message": Object {
      "id": "7045918737413",
      "text": "1",
      "type": "text",
    },
    "timestamp": 1511633232479,
    "type": "message",
  },
  "isSkipUser": false,
  "issuedAt": 1511633232970,
  "replies": Array [
    Object {
      "text": "é€™å€‹è¨Šæ¯æœ‰ï¼š
1 å‰‡å›æ‡‰æ¨™æˆ âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
0 å‰‡å›æ‡‰æ¨™æˆ â­• å«æœ‰çœŸå¯¦è¨Šæ¯
1 å‰‡å›æ‡‰æ¨™æˆ ğŸ’¬ å«æœ‰å€‹äººæ„è¦‹
2 å‰‡å›æ‡‰æ¨™æˆ âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
",
      "type": "text",
    },
    Object {
      "altText": "é–±è®€è«‹å‚³ 1> ğŸ’¬ å«æœ‰å€‹äººæ„è¦‹
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
æ…ˆæ¿Ÿè‡ªä¾†æœ‰è¤’æœ‰è²¶ï¼Œæ¯äººæœ‰å„è‡ªçš„çœ‹æ³•ã€‚

é–±è®€è«‹å‚³ 2> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[æœ‰ 3 äººè¦ºå¾—æ­¤å›æ‡‰æœ‰å¹«åŠ©]
è€æ¦®æ°‘æœ‰ä½æ‰€ï¼Œæœ‰æœˆé€€ä¿¸ï¼Œä¹Ÿä¸éœ€è¦ç‰¹åˆ¥çš„é†«ç™‚è­·ç†ï¼Œå› æ­¤è¼ƒé©åˆæ¦®æ°‘ä¹‹å®¶é¤Šè€ï¼Œæ…ˆæ¿Ÿä¹Ÿä¸€ç›´é—œæ‡·é™ªä¼´ã€‚è­·ç†ä¹‹å®¶æœ‰å…è²»æ–¹æ¡ˆï¼Œå…¥ä½è³‡æ ¼å’Œæœ‰ç„¡

é–±è®€è«‹å‚³ 3> âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
æ•´å€‹åŸºç£æ•™å¾’çš„æ‰“æ‰‹ï¼Œè‡ªå·±ä¸åŠªåŠ›å»ç‰§äººã€å‹Ÿæ¬¾ï¼Œåˆ©ç”¨æ”»æ“Šåˆ¥äººï¼Œä¸‰åˆ†çœŸä¸ƒåˆ†å‡ï¼Œæ›´åˆ©ç”¨å¤šå¸³è™Ÿä¾†é€ å‹¢åŠé€ é¢¨å‘ï¼Œå®³æˆ‘ä¹Ÿå·®é»ç›¸ä¿¡äº†ï¼Œå„ä½æœ‰æ™º

é–±è®€è«‹å‚³ 4> âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
æ–‡ç« æ˜¯å‡çš„ ç…§ç‰‡ä¹Ÿæ˜¯ç›œç”¨æˆ‘æ–¹å®¶äººçš„ç…§ç‰‡,åš´é‡å½±éŸ¿æˆ‘å®¶äººåè­½,æˆ‘æ–¹å·²å°poæ–‡çš„äººè¯çµ¡ä¸¦æ‰“ç®—æå‡ºå‘Šè¨´,è«‹å‹¿ç›¸ä¿¡è¬ è¨€.",
      "template": Object {
        "columns": Array [
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":1,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "ğŸ’¬ å«æœ‰å€‹äººæ„è¦‹
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
æ…ˆæ¿Ÿè‡ªä¾†æœ‰è¤’æœ‰è²¶ï¼Œæ¯äººæœ‰å„è‡ªçš„çœ‹æ³•ã€‚",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":2,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[æœ‰ 3 äººè¦ºå¾—æ­¤å›æ‡‰æœ‰å¹«åŠ©]
è€æ¦®æ°‘æœ‰ä½æ‰€ï¼Œæœ‰æœˆé€€ä¿¸ï¼Œä¹Ÿä¸éœ€è¦ç‰¹åˆ¥çš„é†«ç™‚è­·ç†ï¼Œå› æ­¤è¼ƒé©åˆæ¦®æ°‘ä¹‹å®¶é¤Šè€ï¼Œæ…ˆæ¿Ÿä¹Ÿä¸€ç›´é—œæ‡·é™ªä¼´ã€‚è­·ç†ä¹‹å®¶æœ‰å…è²»æ–¹æ¡ˆï¼Œå…¥ä½è³‡æ ¼å’Œæœ‰ç„¡ææ¬¾æ²’æœ‰é—œä¿‚ã€‚
æ…ˆå–„æ©Ÿæ§‹ä½¿ç”¨è³‡æºéœ€",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":3,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
æ•´å€‹åŸºç£æ•™å¾’çš„æ‰“æ‰‹ï¼Œè‡ªå·±ä¸åŠªåŠ›å»ç‰§äººã€å‹Ÿæ¬¾ï¼Œåˆ©ç”¨æ”»æ“Šåˆ¥äººï¼Œä¸‰åˆ†çœŸä¸ƒåˆ†å‡ï¼Œæ›´åˆ©ç”¨å¤šå¸³è™Ÿä¾†é€ å‹¢åŠé€ é¢¨å‘ï¼Œå®³æˆ‘ä¹Ÿå·®é»ç›¸ä¿¡äº†ï¼Œå„ä½æœ‰æ™ºæ…§çš„çœ‹å®˜ï¼Œçœ‹éä¹‹å¾Œï¼Œç¬‘ä¸€ç¬‘å³å¯ï¼Œåˆ¥",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":4,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
æ–‡ç« æ˜¯å‡çš„ ç…§ç‰‡ä¹Ÿæ˜¯ç›œç”¨æˆ‘æ–¹å®¶äººçš„ç…§ç‰‡,åš´é‡å½±éŸ¿æˆ‘å®¶äººåè­½,æˆ‘æ–¹å·²å°poæ–‡çš„äººè¯çµ¡ä¸¦æ‰“ç®—æå‡ºå‘Šè¨´,è«‹å‹¿ç›¸ä¿¡è¬ è¨€.",
          },
        ],
        "type": "carousel",
      },
      "type": "template",
    },
  ],
  "state": "CHOOSING_REPLY",
  "userId": "Uc76d8ae9ccd1ada4f06c4e1515d46466",
}
`;

exports[`should select article and slice replies when over 10 1`] = `
Object {
  "data": Object {
    "foundArticleIds": Array [
      "AV8d2-YtyCdS-nWhuhdi",
    ],
    "foundReplyIds": Array [
      "AV--O3nfyCdS-nWhujMD",
      "AV--O3nfyCdS-nWhujMD",
      "AV8fXikZyCdS-nWhuhfN",
      "AV--O3nfyCdS-nWhujMD",
      "AV--O3nfyCdS-nWhujMD",
      "AV--O3nfyCdS-nWhujMD",
      "AV--O3nfyCdS-nWhujMD",
      "AV--O3nfyCdS-nWhujMD",
      "AV--O3nfyCdS-nWhujMD",
      "AV--LRZYyCdS-nWhujL9",
      "AV8jkRlByCdS-nWhuhiY",
    ],
    "searchedText": "è€æ¦®æ°‘ä¹æˆå­˜æ¬¾å…¨éƒ¨æçµ¦æ…ˆæ¿Ÿï¼Œå¦‚ä»Šçª®äº†å»å¾—ä¸åˆ°æ…ˆæ¿Ÿé†«é™¢ç¤¾å·¥çš„å¹«å¿™ï¼Œç«Ÿç¿»è‡‰ä¸èªäºº",
    "selectedArticleId": "AV8d2-YtyCdS-nWhuhdi",
    "selectedArticleText": "eleven Replies article text",
  },
  "event": Object {
    "input": "1",
    "message": Object {
      "id": "7045918737413",
      "text": "1",
      "type": "text",
    },
    "timestamp": 1511633232479,
    "type": "message",
  },
  "isSkipUser": false,
  "issuedAt": 1511633232970,
  "replies": Array [
    Object {
      "text": "é€™å€‹è¨Šæ¯æœ‰ï¼š
6 å‰‡å›æ‡‰æ¨™æˆ âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
2 å‰‡å›æ‡‰æ¨™æˆ â­• å«æœ‰çœŸå¯¦è¨Šæ¯
1 å‰‡å›æ‡‰æ¨™æˆ ğŸ’¬ å«æœ‰å€‹äººæ„è¦‹
2 å‰‡å›æ‡‰æ¨™æˆ âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
",
      "type": "text",
    },
    Object {
      "altText": "é–±è®€è«‹å‚³ 1> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 2> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 3> ğŸ’¬ å«æœ‰å€‹äººæ„è¦‹
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]


é–±è®€è«‹å‚³ 4> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 5> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 6> â­• å«æœ‰çœŸå¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 7> â­• å«æœ‰çœŸå¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 8> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 9> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›

é–±è®€è«‹å‚³ 10> âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰7ã€‚",
      "template": Object {
        "columns": Array [
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":1,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰11",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":2,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰10",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":3,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "ğŸ’¬ å«æœ‰å€‹äººæ„è¦‹
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰9",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":4,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰6",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":5,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰5",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":6,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "â­• å«æœ‰çœŸå¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰4",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":7,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "â­• å«æœ‰çœŸå¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰3",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":8,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰2",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":9,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰1",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":10,\\"issuedAt\\":1511633232970}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
[é‚„æ²’æœ‰äººé‡å°æ­¤å›æ‡‰è©•åƒ¹]
å›æ‡‰7ã€‚
",
          },
        ],
        "type": "carousel",
      },
      "type": "template",
    },
    Object {
      "text": "æ›´å¤šå›æ‡‰è«‹åˆ°ï¼šhttps://cofacts.g0v.tw/article/AV8d2-YtyCdS-nWhuhdi",
      "type": "text",
    },
  ],
  "state": "CHOOSING_REPLY",
  "userId": "Uc76d8ae9ccd1ada4f06c4e1515d46466",
}
`;

exports[`should select article by articleId 1`] = `
Object {
  "data": Object {
    "foundArticleIds": Array [
      "AVyyB61NyCdS-nWhuakC",
      "AV4sEcSHyCdS-nWhufEX",
      "5478658696099-rumor",
    ],
    "foundReplyIds": Array [
      "AVy6LkWIyCdS-nWhuaqu",
      "AVygFA0RyCdS-nWhuaXY",
    ],
    "searchedText": "ã€Šç·Šæ€¥é€šçŸ¥ã€‹
å°åŒ—é¦¬å•é†«é™¢å‚³ä¾†è¨Šæ¯ï¼š
è³‡æ·±é†«ç”Ÿï¼ˆæ—æ¸…é¢¨ï¼‰å‚³ä¾†ï¼šã€Œè«‹å¤§å®¶ä»¥å¾Œåƒè¬ä¸è¦å†åƒç”Ÿé­šç‰‡äº†ï¼ã€
å› ç‚ºæœ€è¿‘å·²ç¶“ç™¼ç¾- å¥½å¤šç—…äººå› ç‚ºåƒäº†ç”Ÿé­šç‰‡ï¼Œèƒƒå£é™„è‘—ã€Šæµ·ç¸èƒƒè…ºèŸ²ã€‹ï¼Œå¤§å°éš»ä¸ä¸€å®šï¼Œæœ‰çš„ç—…äººç”šè‡³èƒƒå£ä¸Šæ»¿æ»¿éƒ½æ˜¯ç„¡æ³•å¤¾å‡ºä¾†ï¼Œé©…èŸ²è—¥ä¹Ÿå¾ˆé›£æ ¹æ²»ï¼Œç½¹æ‚£æ©Ÿç‡æ¯å€‹åœ‹å®¶çš„äººéƒ½ä¸€æ¨£ã€‚
å°¤å…¶ï¼›é®­é­šçš„å«èŸ²é‡æœ€é«˜ã€æœ€å¯æ€•ï¼
è«‹å‚³çµ¦æœ‹å‹ï¼Œè®“ä»–å€‘æœ‰æ‰€è­¦æƒ•!",
    "selectedArticleId": "AVyyB61NyCdS-nWhuakC",
    "selectedArticleText": "ã€Šç·Šæ€¥é€šçŸ¥ã€‹
å°åŒ—é¦¬å•é†«é™¢å‚³ä¾†è¨Šæ¯ï¼š
è³‡æ·±é†«ç”Ÿï¼ˆæ—æ¸…é¢¨ï¼‰å‚³ä¾†ï¼šã€Œè«‹å¤§å®¶ä»¥å¾Œåƒè¬ä¸è¦å†åƒç”Ÿé­šç‰‡äº†ï¼ã€
å› ç‚ºæœ€è¿‘å·²ç¶“ç™¼ç¾- å¥½å¤šç—…äººå› ç‚ºåƒäº†ç”Ÿé­šç‰‡ï¼Œèƒƒå£é™„è‘—ã€Šæµ·ç¸èƒƒè…ºèŸ²ã€‹ï¼Œå¤§å°éš»ä¸ä¸€å®šï¼Œæœ‰çš„ç—…äººç”šè‡³èƒƒå£ä¸Šæ»¿æ»¿éƒ½æ˜¯ç„¡æ³•å¤¾å‡ºä¾†ï¼Œé©…èŸ²è—¥ä¹Ÿå¾ˆé›£æ ¹æ²»ï¼Œç½¹æ‚£æ©Ÿç‡æ¯å€‹åœ‹å®¶çš„äººéƒ½ä¸€æ¨£ã€‚
å°¤å…¶ï¼›é®­é­šçš„å«èŸ²é‡æœ€é«˜ã€æœ€å¯æ€•ï¼
è«‹å‚³çµ¦æœ‹å‹ï¼Œè®“ä»–å€‘æœ‰æ‰€è­¦æƒ•!",
  },
  "event": Object {
    "input": "1",
    "message": Object {
      "id": "6691804381697",
      "text": "1",
      "type": "text",
    },
    "timestamp": 1505314293406,
    "type": "message",
  },
  "isSkipUser": false,
  "issuedAt": 1505314295017,
  "replies": Array [
    Object {
      "text": "é€™å€‹è¨Šæ¯æœ‰ï¼š
2 å‰‡å›æ‡‰æ¨™æˆ âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
0 å‰‡å›æ‡‰æ¨™æˆ â­• å«æœ‰çœŸå¯¦è¨Šæ¯
0 å‰‡å›æ‡‰æ¨™æˆ ğŸ’¬ å«æœ‰å€‹äººæ„è¦‹
0 å‰‡å›æ‡‰æ¨™æˆ âš ï¸ï¸ ä¸åœ¨æŸ¥è­‰ç¯„åœ
",
      "type": "text",
    },
    Object {
      "altText": "é–±è®€è«‹å‚³ 1> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[æœ‰ 24 äººè¦ºå¾—æ­¤å›æ‡‰æœ‰å¹«åŠ©]
éå»å°ç£åªæœ‰ä¸€å€‹æµ·ç¸èƒƒè…ºèŸ²é‘½å…¥èƒƒå£çš„ç—…ä¾‹ï¼Œè€Œä¸”åƒ…æœ‰ä¸€éš»èŸ²ã€‚è€Œç¶“æŸ¥è©¢ï¼Œå°åŒ—é¦¬å•é†«é™¢ä¹Ÿæ²’æœ‰åç‚ºæ—æ¸…é¢¨çš„é†«å¸«ã€‚

é–±è®€è«‹å‚³ 2> âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[æœ‰ 14 äººè¦ºå¾—æ­¤å›æ‡‰æœ‰å¹«åŠ©
æœ‰ 2 äººè¦ºå¾—æ­¤å›æ‡‰æ²’å¹«åŠ©]
æŸ¥è­‰é€™å‰‡è¬ è¨€çš„éç¨‹ä¸­ï¼Œç´„ç¿°èµ°é¹¿ä¹Ÿç™¼ç¾å…¶å¯¦ç¶²è·¯æ—©å°±æœ‰è¨±å¤šè§£ç­”ï¼Œå°±è®“ç´„ç¿°èµ°é¹¿ä¾†å€ŸèŠ±ç»ä½›ä¸€ä¸‹å›‰ã€‚å¤šå®¶åª’é«”éƒ½æœ‰é‡å°é€™å‰‡ã€Œåƒç”Ÿé­šç‰‡æœƒæœ‰æµ·ç¸èƒƒè…ºèŸ²é™„è‘—èƒƒå£ã€çš„è¬ è¨€è«‹æ•™é†«å¸«ï¼Œå—è¨ªçš„é†«å¸«å€‘çš†è¡¨ç¤ºï¼Œé€™å‰‡è¬ è¨€å¤ªèª‡å¤§ï¼Œæµ·ç¸èƒƒè…ºèŸ²æ²’é‚£éº¼ç¥é€šå»£å¤§ã€‚
é†«å¸«å€‘è¡¨ç¤ºï¼Œå°ç£çš„è¡›ç”Ÿæ¢ä»¶å¾ˆé€²æ­¥ï¼Œåƒç”Ÿé­šç‰‡è¢«å¯„ç”ŸèŸ²å¯„ç”Ÿçš„æ¡ˆä¾‹å¾ˆå°‘ï¼Œå¤§éƒ¨ä»½",
      "template": Object {
        "columns": Array [
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":1,\\"issuedAt\\":1505314295017}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[æœ‰ 24 äººè¦ºå¾—æ­¤å›æ‡‰æœ‰å¹«åŠ©]
éå»å°ç£åªæœ‰ä¸€å€‹æµ·ç¸èƒƒè…ºèŸ²é‘½å…¥èƒƒå£çš„ç—…ä¾‹ï¼Œè€Œä¸”åƒ…æœ‰ä¸€éš»èŸ²ã€‚è€Œç¶“æŸ¥è©¢ï¼Œå°åŒ—é¦¬å•é†«é™¢ä¹Ÿæ²’æœ‰åç‚ºæ—æ¸…é¢¨çš„é†«å¸«ã€‚",
          },
          Object {
            "actions": Array [
              Object {
                "data": "{\\"input\\":2,\\"issuedAt\\":1505314295017}",
                "label": "é–±è®€æ­¤å›æ‡‰",
                "type": "postback",
              },
            ],
            "text": "âŒ å«æœ‰ä¸å¯¦è¨Šæ¯
[æœ‰ 14 äººè¦ºå¾—æ­¤å›æ‡‰æœ‰å¹«åŠ©
æœ‰ 2 äººè¦ºå¾—æ­¤å›æ‡‰æ²’å¹«åŠ©]
æŸ¥è­‰é€™å‰‡è¬ è¨€çš„éç¨‹ä¸­ï¼Œç´„ç¿°èµ°é¹¿ä¹Ÿç™¼ç¾å…¶å¯¦ç¶²è·¯æ—©å°±æœ‰è¨±å¤šè§£ç­”ï¼Œå°±è®“ç´„ç¿°èµ°é¹¿ä¾†å€ŸèŠ±ç»ä½›ä¸€ä¸‹å›‰ã€‚å¤šå®¶åª’é«”éƒ½æœ‰é‡å°é€™å‰‡ã€Œåƒç”Ÿé­šç‰‡æœƒæœ‰æµ·ç¸èƒƒè…ºèŸ²é™„è‘—èƒƒå£ã€çš„è¬ è¨€è«‹æ•™é†«å¸«ï¼Œ",
          },
        ],
        "type": "carousel",
      },
      "type": "template",
    },
  ],
  "state": "CHOOSING_REPLY",
  "userId": "Uc76d8ae9ccd1ada4f06c4e1515d46466",
}
`;

exports[`should select article with no replies 1`] = `
Object {
  "data": Object {
    "foundArticleIds": Array [
      "AV_4WX8vyCdS-nWhujyH",
    ],
    "searchedText": "è€å¸æ©Ÿè»Šè£¡ç¸½å‚™ä¸€å¡Šé¦™çš‚ï¼ŒçŸ¥é“å…§æƒ…çš„æ–°æ‰‹é»˜é»˜ä¹Ÿæº–å‚™äº†ä¸€å¡Š",
    "selectedArticleId": "AV_4WX8vyCdS-nWhujyH",
    "selectedArticleText": "è€å¸æ©Ÿè»Šè£¡ç¸½å‚™ä¸€å¡Šé¦™çš‚ï¼ŒçŸ¥é“å…§æƒ…çš„æ–°æ‰‹é»˜é»˜ä¹Ÿæº–å‚™äº†ä¸€å¡Š",
  },
  "event": Object {
    "input": "1",
    "message": Object {
      "id": "7049700770815",
      "text": "1",
      "type": "text",
    },
    "timestamp": 1511702208226,
    "type": "message",
  },
  "isSkipUser": false,
  "issuedAt": 1511702208730,
  "replies": Array [
    Object {
      "altText": "ã€è·Ÿç·¨è¼¯èªªæ‚¨çš„ç–‘æƒ‘ã€‘
æŠ±æ­‰é€™ç¯‡è¨Šæ¯é‚„æ²’æœ‰äººå›æ‡‰éå”·ï¼

è‹¥æ‚¨è¦ºå¾—é€™æ˜¯ä¸€å‰‡è¬ è¨€ï¼Œè«‹æŒ‡å‡ºæ‚¨æœ‰ç–‘æƒ‘ä¹‹è™•ï¼Œèªªæœç·¨è¼¯é€™æ˜¯ä¸€ä»½æ‡‰è©²è¢«é—¢è¬ çš„è¨Šæ¯ã€‚

è«‹æŒ‰å·¦ä¸‹è§’ã€ŒâŒ¨ï¸ã€éˆ•ï¼ŒæŠŠã€Œç‚ºä½•æ‚¨æœƒè¦ºå¾—é€™æ˜¯ä¸€å‰‡è¬ è¨€ã€çš„ç†ç”±å‚³çµ¦æˆ‘å€‘ï¼Œå¹«åŠ©é—¢è¬ ç·¨è¼¯é‡æ¸…æ‚¨çš„ç–‘æƒ‘ï¼›
è‹¥æƒ³è·³éï¼Œè«‹è¼¸å…¥ã€Œnã€ã€‚",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "size": "xxs",
              "text": "æŠ±æ­‰é€™ç¯‡è¨Šæ¯é‚„æ²’æœ‰äººå›æ‡‰éå”·ï¼",
              "type": "text",
              "wrap": true,
            },
            Object {
              "size": "xxs",
              "text": "è‹¥æ‚¨è¦ºå¾—é€™æ˜¯ä¸€å‰‡è¬ è¨€ï¼Œè«‹æŒ‡å‡ºæ‚¨æœ‰ç–‘æƒ‘ä¹‹è™•ï¼Œèªªæœç·¨è¼¯é€™æ˜¯ä¸€ä»½æ‡‰è©²è¢«é—¢è¬ çš„è¨Šæ¯ï¼Œå¹«åŠ©é—¢è¬ ç·¨è¼¯é‡æ¸…æ‚¨æœ‰ç–‘æƒ‘ä¹‹è™•ã€‚",
              "type": "text",
              "wrap": true,
            },
            Object {
              "color": "#990000",
              "size": "md",
              "text": "è«‹æ‰“å­—å‘Šè¨´æˆ‘å€‘ï¼š",
              "type": "text",
              "weight": "bold",
              "wrap": true,
            },
            Object {
              "color": "#ff0000",
              "size": "xxl",
              "text": "ç‚ºä½•æ‚¨æœƒè¦ºå¾—é€™æ˜¯ä¸€å‰‡è¬ è¨€ï¼Ÿ",
              "type": "text",
              "weight": "bold",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "spacing": "md",
          "type": "box",
        },
        "footer": Object {
          "contents": Array [
            Object {
              "action": Object {
                "data": "{\\"input\\":\\"n\\",\\"issuedAt\\":1511702208730}",
                "label": "æˆ‘ä¸æƒ³å¡«ç†ç”±",
                "type": "postback",
              },
              "type": "button",
            },
            Object {
              "action": Object {
                "label": "âŒ¨ï¸ å‚³ç†ç”±çµ¦æˆ‘å€‘",
                "type": "uri",
                "uri": "line://oaMessage/@cofacts/?%E5%9B%A0%E7%82%BA%E2%8B%AF%E2%8B%AF",
              },
              "style": "primary",
              "type": "button",
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "header": Object {
          "contents": Array [
            Object {
              "color": "#009900",
              "size": "sm",
              "text": "è·Ÿç·¨è¼¯èªªæ‚¨çš„ç–‘æƒ‘",
              "type": "text",
              "weight": "bold",
            },
          ],
          "layout": "horizontal",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
  ],
  "state": "ASKING_REPLY_REQUEST_REASON",
  "userId": "Uc76d8ae9ccd1ada4f06c4e1515d46466",
}
`;
