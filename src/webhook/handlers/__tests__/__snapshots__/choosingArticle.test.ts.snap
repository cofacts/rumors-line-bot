// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`should ask users if they want to submit article when user say not found 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "foo",
        "text": "é€™ä¸€ç¯‡æ–‡ç« ç¢ºå¯¦æ˜¯ä¸€å€‹è½‰å‚³æ–‡ç« ï¼Œä»–å¤ é•·ï¼Œçœ‹èµ·ä¾†å¾ˆè½‰å‚³ï¼Œä½†æ˜¯ä½¿ç”¨è€…è¦ºå¾—è³‡æ–™åº«è£¡æ²’æœ‰ã€‚",
        "type": "text",
      },
    ],
    "sessionId": 0,
  },
  "replies": Array [
    Object {
      "altText": "I am sorry you cannot find the information â€œé€™ä¸€ç¯‡æ–‡ç« ç¢ºå¯¦æ˜¯ä¸€å€‹â‹¯â‹¯â€ you are looking for. But I would still like to help.
May I ask you a quick question?",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "I am sorry you cannot find the information â€œé€™ä¸€ç¯‡æ–‡ç« ç¢ºå¯¦æ˜¯ä¸€å€‹â‹¯â‹¯â€ you are looking for. But I would still like to help.
May I ask you a quick question?",
              "type": "text",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
    Object {
      "altText": "Did you forward this message as a whole to me from the LINE app?",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "Did you forward this message as a whole to me from the LINE app?",
              "type": "text",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "footer": Object {
          "contents": Array [
            Object {
              "action": Object {
                "data": "{\\"input\\":\\"__POSTBACK_YES__\\",\\"sessionId\\":0,\\"state\\":\\"ASKING_ARTICLE_SOURCE\\"}",
                "displayText": "Yes, I forwarded it as a whole",
                "label": "Yes, I forwarded it as a whole",
                "type": "postback",
              },
              "color": "#333333",
              "style": "primary",
              "type": "button",
            },
            Object {
              "action": Object {
                "data": "{\\"input\\":\\"__POSTBACK_NO__\\",\\"sessionId\\":0,\\"state\\":\\"ASKING_ARTICLE_SOURCE\\"}",
                "displayText": "No, typed it myself",
                "label": "No, typed it myself",
                "type": "postback",
              },
              "color": "#333333",
              "style": "primary",
              "type": "button",
            },
          ],
          "layout": "vertical",
          "spacing": "sm",
          "type": "box",
        },
        "styles": Object {
          "body": Object {
            "separator": true,
          },
        },
        "type": "bubble",
      },
      "type": "flex",
    },
  ],
}
`;

exports[`should ask users if they want to submit image article when user say not found 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "6530038889933",
        "type": "image",
      },
    ],
    "sessionId": 0,
  },
  "replies": Array [
    Object {
      "altText": "I am sorry you cannot find the information you are looking for.
Do you want someone to fact-check this message?",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "I am sorry you cannot find the information you are looking for.
Do you want someone to fact-check this message?",
              "type": "text",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
    Object {
      "altText": "Be the first to report the message",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "We currently donâ€™t have this message in our database.",
              "type": "text",
              "wrap": true,
            },
            Object {
              "text": "If you believe:",
              "type": "text",
              "wrap": true,
            },
            Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "margin": "none",
                  "text": "ğŸ¤”",
                  "type": "text",
                },
                Object {
                  "contents": Array [
                    Object {
                      "text": "That it is most likely ",
                      "type": "span",
                    },
                    Object {
                      "color": "#ffb600",
                      "decoration": "none",
                      "text": "a rumor,",
                      "type": "span",
                      "weight": "bold",
                    },
                  ],
                  "flex": 1,
                  "margin": "md",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "margin": "md",
              "type": "box",
            },
            Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "margin": "none",
                  "text": "ğŸŒ",
                  "type": "text",
                },
                Object {
                  "contents": Array [
                    Object {
                      "text": "And you are willing to ",
                      "type": "span",
                    },
                    Object {
                      "color": "#ffb600",
                      "decoration": "none",
                      "text": "make this message public",
                      "type": "span",
                      "weight": "bold",
                    },
                  ],
                  "flex": 1,
                  "margin": "md",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "margin": "md",
              "type": "box",
            },
            Object {
              "contents": Array [
                Object {
                  "color": "#ffb600",
                  "text": "Press â€œğŸ†• Report to databaseâ€ to make this message public on Cofacts website ",
                  "type": "span",
                  "weight": "bold",
                },
                Object {
                  "text": "and have volunteers fact-check it. This way you can help the people who receive the same message in the future.",
                  "type": "span",
                },
              ],
              "type": "text",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "paddingAll": "lg",
          "spacing": "md",
          "type": "box",
        },
        "footer": Object {
          "contents": Array [
            Object {
              "action": Object {
                "data": "{\\"input\\":[0],\\"sessionId\\":0,\\"state\\":\\"ASKING_ARTICLE_SUBMISSION_CONSENT\\"}",
                "displayText": "ğŸ†• Report to database",
                "label": "ğŸ†• Report to database",
                "type": "postback",
              },
              "color": "#ffb600",
              "style": "primary",
              "type": "button",
            },
            Object {
              "action": Object {
                "data": "{\\"input\\":[],\\"sessionId\\":0,\\"state\\":\\"ASKING_ARTICLE_SUBMISSION_CONSENT\\"}",
                "displayText": "Donâ€™t report",
                "label": "Donâ€™t report",
                "type": "postback",
              },
              "color": "#333333",
              "style": "primary",
              "type": "button",
            },
          ],
          "layout": "vertical",
          "spacing": "sm",
          "type": "box",
        },
        "styles": Object {
          "body": Object {
            "separator": true,
          },
        },
        "type": "bubble",
      },
      "type": "flex",
    },
  ],
}
`;

exports[`should create a UserArticleLink when selecting a article 1`] = `
Array [
  Object {
    "_id": "_id",
    "articleId": "article-id",
    "createdAt": 2020-01-01T00:00:00.000Z,
    "lastViewedAt": 2020-01-01T00:00:00.000Z,
    "userId": "user-id-0",
  },
]
`;

exports[`should select article and choose the only one reply for user 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "foo",
        "text": "Just One Reply Just One Reply Just One Reply Just One Reply Just One Reply",
        "type": "text",
      },
    ],
    "sessionId": 0,
  },
  "replies": Array [
    Object {
      "text": "ğŸ’¡ Someone on the internet replies to the message first reported on Jan 2, 2018:",
      "type": "text",
    },
    Object {
      "text": "The Only Reply The Only Reply The Only Reply The Only Reply The Only Reply The Only Reply The Only Reply The Only Reply The Only Reply ",
      "type": "text",
    },
    Object {
      "text": "ô€‚… âš ï¸ï¸ This reply has no references and it may be biased âš ï¸ï¸  ô€‚…",
      "type": "text",
    },
    Object {
      "text": "â¬†ï¸ Therefore, the author think the message contains misinformation.

ğŸ’ This content is provided by Cofact message reporting chatbot and crowd-sourced fact-checking community under CC BY-SA 4.0 license. Please refer to their references and make judgements on your own.


â‰ï¸ If you have different thoughts, you may have your say here:
https://dev.cofacts.tw/article/article-id",
      "type": "text",
    },
    Object {
      "altText": "Is the reply helpful?",
      "contents": Object {
        "contents": Array [
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "text": "Is the reply helpful?",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "vertical",
              "paddingAll": "xl",
              "type": "box",
            },
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "label": "ğŸ‘ Yes",
                    "type": "uri",
                    "uri": "https://liff.line.me/1563196602-X6mLdDkW?p=feedback&articleId=article-id&replyId=AV--O3nfyCdS-nWhujMD&vote=UPVOTE",
                  },
                  "color": "#00B172",
                  "style": "primary",
                  "type": "button",
                },
                Object {
                  "action": Object {
                    "label": "ğŸ˜• No",
                    "type": "uri",
                    "uri": "https://liff.line.me/1563196602-X6mLdDkW?p=feedback&articleId=article-id&replyId=AV--O3nfyCdS-nWhujMD&vote=DOWNVOTE",
                  },
                  "color": "#FB5959",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "spacing": "sm",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "text": "Don't forget to forward the messages above to others and share with them!",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "vertical",
              "paddingAll": "lg",
              "spacing": "md",
              "type": "box",
            },
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "label": "Share to friends",
                    "type": "uri",
                    "uri": "https://line.me/R/msg/text/?Someone%20says%20the%20message%20%E2%80%9CJust%20One%20Repl%E2%8B%AF%E2%8B%AF%E2%80%9D%20contains%20misinformation.%0A%0APlease%20refer%20to%20https://dev.cofacts.tw/article/article-id%20for%20more%20information,%20replies%20and%20references.",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
                Object {
                  "action": Object {
                    "label": "Provide better reply",
                    "type": "uri",
                    "uri": "https://dev.cofacts.tw/article/article-id",
                  },
                  "color": "#ffb600",
                  "style": "link",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "spacing": "sm",
              "type": "box",
            },
            "type": "bubble",
          },
        ],
        "type": "carousel",
      },
      "type": "flex",
    },
  ],
}
`;

exports[`should select article and have OPINIONATED and NOT_ARTICLE replies 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "foo",
        "text": "è€æ¦®æ°‘ä¹æˆå­˜æ¬¾å…¨éƒ¨æçµ¦æ…ˆæ¿Ÿï¼Œå¦‚ä»Šçª®äº†å»å¾—ä¸åˆ°æ…ˆæ¿Ÿé†«é™¢ç¤¾å·¥çš„å¹«å¿™ï¼Œç«Ÿç¿»è‡‰ä¸èªäºº",
        "type": "text",
      },
    ],
    "sessionId": 1497994017447,
  },
  "replies": Array [
    Object {
      "text": "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦  Volunteer editors have published several replies to this message.

1 of them say it âŒ contains misinformation.
1 of them says it ğŸ’¬ contains personal perspective.
2 of them says it âš ï¸ï¸ is out of scope of Cofacts.",
      "type": "text",
    },
    Object {
      "text": "Let's pick one ğŸ‘‡",
      "type": "text",
    },
    Object {
      "altText": "Please take a look at the following replies.",
      "contents": Object {
        "contents": Array [
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "è€æ¦®æ°‘æœ‰ä½æ‰€ï¼Œæœ‰æœˆé€€ä¿¸ï¼Œä¹Ÿä¸éœ€è¦ç‰¹åˆ¥çš„é†«ç™‚è­·ç†ï¼Œå› æ­¤è¼ƒé©åˆæ¦®æ°‘ä¹‹å®¶é¤Šè€ï¼Œæ…ˆæ¿Ÿä¹Ÿä¸€ç›´é—œæ‡·é™ªä¼´ã€‚è­·ç†ä¹‹å®¶æœ‰å…è²»æ–¹æ¡ˆï¼Œå…¥ä½è³‡æ ¼å’Œæœ‰ç„¡ææ¬¾æ²’æœ‰é—œä¿‚ã€‚
æ…ˆå–„æ©Ÿæ§‹ä½¿ç”¨è³‡æºéœ€ç¬¦åˆè¦å®šï¼Œä¸èƒ½åƒ…ç‚ºå°‘æ•¸äººé–‹ç‰¹ä¾‹ã€‚ä¸æ˜¯æ›¾ææ¬¾å°±éœ€è¦ç‰¹åˆ¥åšå¾…ï¼Œä¸æ˜¯æœªæ›¾ææ¬¾å°±å¯ä»¥ä¸ç†ã€‚",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "ğŸ‘ 3 users consider this helpful",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":1497994017447,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œè€æ¦®æ°‘æœ‰ä½æ‰€ï¼Œæœ‰æœˆé€€ä¿¸ï¼Œä¹Ÿä¸éœ€è¦ç‰¹åˆ¥çš„é†«ç™‚è­·ç†â‹¯â‹¯â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "æ…ˆæ¿Ÿè‡ªä¾†æœ‰è¤’æœ‰è²¶ï¼Œæ¯äººæœ‰å„è‡ªçš„çœ‹æ³•ã€‚",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV8fXikZyCdS-nWhuhfN\\"},\\"sessionId\\":1497994017447,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œæ…ˆæ¿Ÿè‡ªä¾†æœ‰è¤’æœ‰è²¶ï¼Œæ¯äººæœ‰å„è‡ªçš„çœ‹æ³•ã€‚â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains personal perspective",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "æ•´å€‹åŸºç£æ•™å¾’çš„æ‰“æ‰‹ï¼Œè‡ªå·±ä¸åŠªåŠ›å»ç‰§äººã€å‹Ÿæ¬¾ï¼Œåˆ©ç”¨æ”»æ“Šåˆ¥äººï¼Œä¸‰åˆ†çœŸä¸ƒåˆ†å‡ï¼Œæ›´åˆ©ç”¨å¤šå¸³è™Ÿä¾†é€ å‹¢åŠé€ é¢¨å‘ï¼Œå®³æˆ‘ä¹Ÿå·®é»ç›¸ä¿¡äº†ï¼Œå„ä½æœ‰æ™ºæ…§çš„çœ‹å®˜ï¼Œçœ‹éä¹‹å¾Œï¼Œç¬‘ä¸€ç¬‘å³å¯ï¼Œåˆ¥å¤ªèªçœŸå»ç›¸ä¿¡ä»–çš„è©±å•¦ã€‚
",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--LRZYyCdS-nWhujL9\\"},\\"sessionId\\":1497994017447,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œæ•´å€‹åŸºç£æ•™å¾’çš„æ‰“æ‰‹ï¼Œè‡ªå·±ä¸åŠªåŠ›å»ç‰§äººã€å‹Ÿæ¬¾ï¼Œåˆ©â‹¯â‹¯â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it invalid request",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "æ–‡ç« æ˜¯å‡çš„ ç…§ç‰‡ä¹Ÿæ˜¯ç›œç”¨æˆ‘æ–¹å®¶äººçš„ç…§ç‰‡,åš´é‡å½±éŸ¿æˆ‘å®¶äººåè­½,æˆ‘æ–¹å·²å°poæ–‡çš„äººè¯çµ¡ä¸¦æ‰“ç®—æå‡ºå‘Šè¨´,è«‹å‹¿ç›¸ä¿¡è¬ è¨€.",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV8jkRlByCdS-nWhuhiY\\"},\\"sessionId\\":1497994017447,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œæ–‡ç« æ˜¯å‡çš„ ç…§ç‰‡ä¹Ÿæ˜¯ç›œç”¨æˆ‘æ–¹å®¶äººçš„ç…§ç‰‡,åš´é‡å½±â‹¯â‹¯â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it invalid request",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
        ],
        "type": "carousel",
      },
      "type": "flex",
    },
  ],
}
`;

exports[`should select article and slice replies when over 10 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "foo",
        "text": "è€æ¦®æ°‘ä¹æˆå­˜æ¬¾å…¨éƒ¨æçµ¦æ…ˆæ¿Ÿï¼Œå¦‚ä»Šçª®äº†å»å¾—ä¸åˆ°æ…ˆæ¿Ÿé†«é™¢ç¤¾å·¥çš„å¹«å¿™ï¼Œç«Ÿç¿»è‡‰ä¸èªäºº",
        "type": "text",
      },
    ],
    "sessionId": 0,
  },
  "replies": Array [
    Object {
      "text": "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦  Volunteer editors have published several replies to this message.

6 of them say it âŒ contains misinformation.
2 of them says it â­• contains true information.
1 of them says it ğŸ’¬ contains personal perspective.
2 of them says it âš ï¸ï¸ is out of scope of Cofacts.",
      "type": "text",
    },
    Object {
      "text": "Let's pick one ğŸ‘‡",
      "type": "text",
    },
    Object {
      "altText": "Please take a look at the following replies.",
      "contents": Object {
        "contents": Array [
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰1",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰1â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰2",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰2â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰3",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰3â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains true information",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰4",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰4â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains true information",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰5",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰5â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰6",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰6â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰9",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV8fXikZyCdS-nWhuhfN\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰9â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains personal perspective",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰10",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰10â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰11",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--O3nfyCdS-nWhujMD\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰11â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "å›æ‡‰7ã€‚
",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "No feedback yet",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AV--LRZYyCdS-nWhujL9\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œå›æ‡‰7ã€‚
â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it invalid request",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
        ],
        "type": "carousel",
      },
      "type": "flex",
    },
    Object {
      "text": "Visit https://dev.cofacts.tw/article/article-id for more replies.",
      "type": "text",
    },
  ],
}
`;

exports[`should select article by articleId 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "foo",
        "text": "ã€Šç·Šæ€¥é€šçŸ¥ã€‹
å°åŒ—é¦¬å•é†«é™¢å‚³ä¾†è¨Šæ¯ï¼š
è³‡æ·±é†«ç”Ÿï¼ˆæ—æ¸…é¢¨ï¼‰å‚³ä¾†ï¼šã€Œè«‹å¤§å®¶ä»¥å¾Œåƒè¬ä¸è¦å†åƒç”Ÿé­šç‰‡äº†ï¼ã€
å› ç‚ºæœ€è¿‘å·²ç¶“ç™¼ç¾- å¥½å¤šç—…äººå› ç‚ºåƒäº†ç”Ÿé­šç‰‡ï¼Œèƒƒå£é™„è‘—ã€Šæµ·ç¸èƒƒè…ºèŸ²ã€‹ï¼Œå¤§å°éš»ä¸ä¸€å®šï¼Œæœ‰çš„ç—…äººç”šè‡³èƒƒå£ä¸Šæ»¿æ»¿éƒ½æ˜¯ç„¡æ³•å¤¾å‡ºä¾†ï¼Œé©…èŸ²è—¥ä¹Ÿå¾ˆé›£æ ¹æ²»ï¼Œç½¹æ‚£æ©Ÿç‡æ¯å€‹åœ‹å®¶çš„äººéƒ½ä¸€æ¨£ã€‚
å°¤å…¶ï¼›é®­é­šçš„å«èŸ²é‡æœ€é«˜ã€æœ€å¯æ€•ï¼
è«‹å‚³çµ¦æœ‹å‹ï¼Œè®“ä»–å€‘æœ‰æ‰€è­¦æƒ•!",
        "type": "text",
      },
    ],
    "sessionId": 0,
  },
  "replies": Array [
    Object {
      "text": "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦  Volunteer editors have published several replies to this message.

2 of them say it âŒ contains misinformation.",
      "type": "text",
    },
    Object {
      "text": "Let's pick one ğŸ‘‡",
      "type": "text",
    },
    Object {
      "altText": "Please take a look at the following replies.",
      "contents": Object {
        "contents": Array [
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "æŸ¥è­‰é€™å‰‡è¬ è¨€çš„éç¨‹ä¸­ï¼Œç´„ç¿°èµ°é¹¿ä¹Ÿç™¼ç¾å…¶å¯¦ç¶²è·¯æ—©å°±æœ‰è¨±å¤šè§£ç­”ï¼Œå°±è®“ç´„ç¿°èµ°é¹¿ä¾†å€ŸèŠ±ç»ä½›ä¸€ä¸‹å›‰ã€‚å¤šå®¶åª’é«”éƒ½æœ‰é‡å°é€™å‰‡ã€Œåƒç”Ÿé­šç‰‡æœƒæœ‰æµ·ç¸èƒƒè…ºèŸ²é™„è‘—èƒƒå£ã€çš„è¬ è¨€è«‹æ•™é†«å¸«ï¼Œå—è¨ªçš„é†«å¸«å€‘çš†è¡¨ç¤ºï¼Œé€™å‰‡è¬ è¨€å¤ªèª‡å¤§ï¼Œæµ·ç¸èƒƒè…ºèŸ²æ²’é‚£éº¼ç¥é€šå»£å¤§ã€‚
é†«å¸«å€‘è¡¨ç¤ºï¼Œå°ç£çš„è¡›ç”Ÿæ¢ä»¶å¾ˆé€²æ­¥ï¼Œåƒç”Ÿé­šç‰‡è¢«å¯„ç”ŸèŸ²å¯„ç”Ÿçš„æ¡ˆä¾‹å¾ˆå°‘ï¼Œå¤§éƒ¨ä»½éƒ½æ˜¯ç”Ÿé­šç‰‡ä¸ä¹¾æ·¨ï¼Œæ„ŸæŸ“æ²™é–€æ°èŒã€å¤§è…¸æ¡¿èŒçš„æ¡ˆä¾‹ï¼Œæ­¤å¤–ï¼Œå¯„ç”ŸèŸ²ä¹Ÿä¸æ˜¯ä»€éº¼é›£æ²»ä¹‹ç—‡ï¼Œæœç”¨ä¸€äº›æŠ—å¯„ç”ŸèŸ²è—¥å°±å¯ä»¥æ®ºæ­»èƒƒè£¡çš„é€™äº›èŸ²å­ï¼Œé™¤éé€™äº›èŸ²å­è·‘åˆ°èº«é«”å…¶ä»–éƒ¨ä½é‚£æ‰æ¯”è¼ƒé›£è™•ç†ï¼Œä½†é‚£ä¹Ÿæ˜¯è¦å¤§é‡åœ°åƒç”Ÿé­šç‰‡ï¼ˆä¸€é€±å…©æ¬¡ä»¥ä¸Šï¼‰ï¼Œä¸­çæ©Ÿç‡æ‰æœƒæ¯”è¼ƒé«˜ã€‚",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "ğŸ‘ 14 users consider this helpful
ğŸ˜• 2 users consider this not useful",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AVygFA0RyCdS-nWhuaXY\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œæŸ¥è­‰é€™å‰‡è¬ è¨€çš„éç¨‹ä¸­ï¼Œç´„ç¿°èµ°é¹¿ä¹Ÿç™¼ç¾å…¶å¯¦ç¶²è·¯æ—©â‹¯â‹¯â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "align": "start",
                  "margin": "md",
                  "maxLines": 10,
                  "text": "éå»å°ç£åªæœ‰ä¸€å€‹æµ·ç¸èƒƒè…ºèŸ²é‘½å…¥èƒƒå£çš„ç—…ä¾‹ï¼Œè€Œä¸”åƒ…æœ‰ä¸€éš»èŸ²ã€‚è€Œç¶“æŸ¥è©¢ï¼Œå°åŒ—é¦¬å•é†«é™¢ä¹Ÿæ²’æœ‰åç‚ºæ—æ¸…é¢¨çš„é†«å¸«ã€‚",
                  "type": "text",
                  "wrap": true,
                },
                Object {
                  "type": "filler",
                },
                Object {
                  "margin": "md",
                  "type": "separator",
                },
                Object {
                  "contents": Array [
                    Object {
                      "size": "xs",
                      "text": "ğŸ‘ 24 users consider this helpful",
                      "type": "text",
                      "wrap": true,
                    },
                  ],
                  "layout": "horizontal",
                  "margin": "md",
                  "spacing": "none",
                  "type": "box",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "direction": "ltr",
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "data": "{\\"input\\":{\\"a\\":\\"article-id\\",\\"r\\":\\"AVy6LkWIyCdS-nWhuaqu\\"},\\"sessionId\\":0,\\"state\\":\\"CHOOSING_REPLY\\"}",
                    "displayText": "I choose â€œéå»å°ç£åªæœ‰ä¸€å€‹æµ·ç¸èƒƒè…ºèŸ²é‘½å…¥èƒƒå£çš„ç—…ä¾‹ï¼Œè€Œä¸”â‹¯â‹¯â€",
                    "label": "ğŸ‘€ Take a look",
                    "type": "postback",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "flex": 0,
                  "text": "ğŸ’¬",
                  "type": "text",
                },
                Object {
                  "color": "#AAAAAA",
                  "gravity": "center",
                  "size": "sm",
                  "text": "Someone thinks it contains misinformation",
                  "type": "text",
                  "weight": "bold",
                  "wrap": true,
                },
              ],
              "layout": "horizontal",
              "paddingBottom": "none",
              "spacing": "md",
              "type": "box",
            },
            "type": "bubble",
          },
        ],
        "type": "carousel",
      },
      "type": "flex",
    },
  ],
}
`;

exports[`should select article with no replies: has AI reply 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "foo",
        "text": "è€å¸æ©Ÿè»Šè£¡ç¸½å‚™ä¸€å¡Šé¦™çš‚ï¼ŒçŸ¥é“å…§æƒ…çš„æ–°æ‰‹é»˜é»˜ä¹Ÿæº–å‚™äº†ä¸€å¡Š",
        "type": "text",
      },
    ],
    "sessionId": 0,
  },
  "replies": Array [
    Object {
      "altText": "This message has already published on Cofacts, and will soon be fact-checked by volunteers.
Donâ€™t trust the message just yet!",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "This message has already published on Cofacts, and will soon be fact-checked by volunteers.
Donâ€™t trust the message just yet!",
              "type": "text",
              "wrap": true,
            },
            Object {
              "action": Object {
                "label": "View reported message",
                "type": "uri",
                "uri": "https://dev.cofacts.tw/article/article-id",
              },
              "margin": "md",
              "type": "button",
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
    Object {
      "altText": "é€™å‰‡è¨Šæ¯é¦–æ¬¡å›å ±æ–¼ Jan 2, 2018 ï¼Œå°šå¾…æŸ¥æ ¸ï¼Œè«‹å…ˆä¸è¦ç›¸ä¿¡é€™ç¯‡æ–‡ç« ã€‚
ä»¥ä¸‹æ˜¯ç•¶æ™‚æ©Ÿå™¨äººåˆæ­¥åˆ†ææ­¤è¨Šæ¯çš„çµæœï¼Œå¸Œæœ›èƒ½å¸¶çµ¦ä½ ä¸€äº›æƒ³æ³•ã€‚",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "é€™å‰‡è¨Šæ¯é¦–æ¬¡å›å ±æ–¼ Jan 2, 2018 ï¼Œå°šå¾…æŸ¥æ ¸ï¼Œè«‹å…ˆä¸è¦ç›¸ä¿¡é€™ç¯‡æ–‡ç« ã€‚
ä»¥ä¸‹æ˜¯ç•¶æ™‚æ©Ÿå™¨äººåˆæ­¥åˆ†ææ­¤è¨Šæ¯çš„çµæœï¼Œå¸Œæœ›èƒ½å¸¶çµ¦ä½ ä¸€äº›æƒ³æ³•ã€‚",
              "type": "text",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
    Object {
      "createdAt": "2018-01-09T05:52:12.658Z",
      "sender": Object {
        "iconUrl": "/static/img/aireply.png?cachebust=20230405",
        "name": "AI è‡ªå‹•åˆ†æ",
      },
      "text": "Hello from ChatGPT",
      "type": "text",
    },
    Object {
      "altText": "After reading the automatic analysis by the bot above, you can:",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "After reading the automatic analysis by the bot above, you can:",
              "type": "text",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
    Object {
      "altText": "Provide more detail",
      "contents": Object {
        "contents": Array [
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "text": "Is the AI analysis helpful?",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "vertical",
              "paddingAll": "xl",
              "type": "box",
            },
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "label": "ğŸ‘ Yes",
                    "type": "uri",
                    "uri": "https://liff.line.me/1563196602-X6mLdDkW?p=aiReplyFeedback&aiResponseId=undefined&vote=UPVOTE",
                  },
                  "color": "#00B172",
                  "style": "primary",
                  "type": "button",
                },
                Object {
                  "action": Object {
                    "label": "ğŸ˜• No",
                    "type": "uri",
                    "uri": "https://liff.line.me/1563196602-X6mLdDkW?p=aiReplyFeedback&aiResponseId=undefined&vote=DOWNVOTE",
                  },
                  "color": "#FB5959",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "spacing": "sm",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "color": "#00B172",
                  "size": "lg",
                  "text": "Provide feedback to AI analysis",
                  "type": "text",
                },
              ],
              "layout": "vertical",
              "paddingBottom": "none",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "text": "It would help fact checkers a lot if you provide more detail :)",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "label": "Provide detail",
                    "type": "uri",
                    "uri": "https://liff.line.me/1563196602-X6mLdDkW?p=comment&articleId=article-id",
                  },
                  "color": "#00B172",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "spacing": "sm",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "color": "#00B172",
                  "size": "lg",
                  "text": "Provide more detail",
                  "type": "text",
                },
              ],
              "layout": "vertical",
              "paddingBottom": "none",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "text": "We all get by with a little help from our friends ğŸŒŸ Share your question to friends, someone might be able to help!",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "label": "Share on LINE",
                    "type": "uri",
                    "uri": "line://msg/text/?Please%20help%20me%20verify%20if%20this%20is%20true%3A%20https%3A%2F%2Fdev.cofacts.tw%2Farticle%2Farticle-id",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
                Object {
                  "action": Object {
                    "label": "Share on Facebook",
                    "type": "uri",
                    "uri": "https://www.facebook.com/dialog/share?openExternalBrowser=1&app_id=719656818195367&display=popup&hashtag=%23ReportedToCofacts&href=https%3A%2F%2Fdev.cofacts.tw%2Farticle%2Farticle-id",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "spacing": "sm",
              "type": "box",
            },
            "type": "bubble",
          },
        ],
        "type": "carousel",
      },
      "type": "flex",
    },
  ],
}
`;

exports[`should select article with no replies: has no AI reply 1`] = `
Object {
  "context": Object {
    "msgs": Array [
      Object {
        "id": "foo",
        "text": "è€å¸æ©Ÿè»Šè£¡ç¸½å‚™ä¸€å¡Šé¦™çš‚ï¼ŒçŸ¥é“å…§æƒ…çš„æ–°æ‰‹é»˜é»˜ä¹Ÿæº–å‚™äº†ä¸€å¡Š",
        "type": "text",
      },
    ],
    "sessionId": 0,
  },
  "replies": Array [
    Object {
      "altText": "This message has already published on Cofacts, and will soon be fact-checked by volunteers.
Donâ€™t trust the message just yet!",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "This message has already published on Cofacts, and will soon be fact-checked by volunteers.
Donâ€™t trust the message just yet!",
              "type": "text",
              "wrap": true,
            },
            Object {
              "action": Object {
                "label": "View reported message",
                "type": "uri",
                "uri": "https://dev.cofacts.tw/article/article-id",
              },
              "margin": "md",
              "type": "button",
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
    Object {
      "altText": "In the meantime, you can:",
      "contents": Object {
        "body": Object {
          "contents": Array [
            Object {
              "text": "In the meantime, you can:",
              "type": "text",
              "wrap": true,
            },
          ],
          "layout": "vertical",
          "type": "box",
        },
        "type": "bubble",
      },
      "type": "flex",
    },
    Object {
      "altText": "Provide more detail",
      "contents": Object {
        "contents": Array [
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "text": "It would help fact checkers a lot if you provide more detail :)",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "label": "Provide detail",
                    "type": "uri",
                    "uri": "https://liff.line.me/1563196602-X6mLdDkW?p=comment&articleId=article-id",
                  },
                  "color": "#00B172",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "spacing": "sm",
              "type": "box",
            },
            "header": Object {
              "contents": Array [
                Object {
                  "color": "#00B172",
                  "size": "lg",
                  "text": "Provide more detail",
                  "type": "text",
                },
              ],
              "layout": "vertical",
              "paddingBottom": "none",
              "type": "box",
            },
            "type": "bubble",
          },
          Object {
            "body": Object {
              "contents": Array [
                Object {
                  "text": "We all get by with a little help from our friends ğŸŒŸ Share your question to friends, someone might be able to help!",
                  "type": "text",
                  "wrap": true,
                },
              ],
              "layout": "vertical",
              "type": "box",
            },
            "footer": Object {
              "contents": Array [
                Object {
                  "action": Object {
                    "label": "Share on LINE",
                    "type": "uri",
                    "uri": "line://msg/text/?Please%20help%20me%20verify%20if%20this%20is%20true%3A%20https%3A%2F%2Fdev.cofacts.tw%2Farticle%2Farticle-id",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
                Object {
                  "action": Object {
                    "label": "Share on Facebook",
                    "type": "uri",
                    "uri": "https://www.facebook.com/dialog/share?openExternalBrowser=1&app_id=719656818195367&display=popup&hashtag=%23ReportedToCofacts&href=https%3A%2F%2Fdev.cofacts.tw%2Farticle%2Farticle-id",
                  },
                  "color": "#ffb600",
                  "style": "primary",
                  "type": "button",
                },
              ],
              "layout": "vertical",
              "spacing": "sm",
              "type": "box",
            },
            "type": "bubble",
          },
        ],
        "type": "carousel",
      },
      "type": "flex",
    },
  ],
}
`;
